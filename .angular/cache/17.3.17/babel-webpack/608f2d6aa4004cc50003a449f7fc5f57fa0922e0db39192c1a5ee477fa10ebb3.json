{"ast":null,"code":"import { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SERVER_API_URL, KS_DASHBOARD_URL } from '@app/app.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let AuthServerProvider = /*#__PURE__*/(() => {\n  class AuthServerProvider {\n    constructor(http) {\n      this.http = http;\n    }\n    getToken() {\n      return localStorage.getItem('authenticationToken') || sessionStorage.getItem('authenticationToken') || '';\n    }\n    login(credentials) {\n      return this.http.post(SERVER_API_URL + '/api/authenticate', credentials).pipe(map(response => this.authenticateSuccess(response, credentials.rememberMe)));\n    }\n    logout() {\n      return new Observable(observer => {\n        localStorage.removeItem('authenticationToken');\n        sessionStorage.removeItem('authenticationToken');\n        localStorage.removeItem('generalWebAuthenticationToken');\n        sessionStorage.removeItem('generalWebAuthenticationToken');\n        localStorage.removeItem('credentials');\n        sessionStorage.removeItem('credentials');\n        observer.complete();\n      });\n    }\n    authenticateSuccess(response, rememberMe) {\n      const jwt = response.id_token;\n      if (rememberMe) {\n        localStorage.setItem('authenticationToken', jwt);\n      } else {\n        sessionStorage.setItem('authenticationToken', jwt);\n      }\n    }\n    /** AUTHENTICATING ON GENERAL WEB FOR WEBSOCKET CONNECTION **/\n    generalWebLogin(credentials) {\n      return this.http.post(KS_DASHBOARD_URL + '/api/authenticate', credentials).pipe(map(response => this.generalWebAuthenticateSuccess(response, credentials.rememberMe)));\n    }\n    getGeneralWebToken() {\n      return localStorage.getItem('generalWebAuthenticationToken') || sessionStorage.getItem('generalWebAuthenticationToken') || '';\n    }\n    generalWebAuthenticateSuccess(response, rememberMe) {\n      const jwt = response.id_token;\n      if (rememberMe) {\n        localStorage.setItem('generalWebAuthenticationToken', jwt);\n      } else {\n        sessionStorage.setItem('generalWebAuthenticationToken', jwt);\n      }\n    }\n    static {\n      this.ɵfac = function AuthServerProvider_Factory(t) {\n        return new (t || AuthServerProvider)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AuthServerProvider,\n        factory: AuthServerProvider.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return AuthServerProvider;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}