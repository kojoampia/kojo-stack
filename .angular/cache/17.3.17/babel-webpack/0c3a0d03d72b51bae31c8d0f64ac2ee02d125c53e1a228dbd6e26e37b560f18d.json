{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nlet DocumentationDashboardComponent = class DocumentationDashboardComponent {\n  constructor(documentationService) {\n    this.documentationService = documentationService;\n    this.modelName = 'Documentation';\n    this.items = [];\n    this.filteredItems = [];\n    this.selectedItem = null;\n    this.detailItem = null;\n    this.isCreating = false;\n    this.isUpdating = false;\n    this.isDeleting = false;\n    this.isViewing = false;\n    this.currentAction = 'list';\n    this.loading = false;\n    this.error = null;\n    this.selectedType = 'All';\n    this.typeOptions = ['ADR', 'RFC', 'Manual', 'Policy'];\n    this.formData = {\n      id: '',\n      title: '',\n      type: 'ADR',\n      tags: [],\n      lastUpdated: '',\n      content: ''\n    };\n    this.tagsInput = '';\n  }\n  ngOnInit() {\n    this.loadItems();\n  }\n  loadItems() {\n    this.loading = true;\n    this.documentationService.getDocs().subscribe({\n      next: items => {\n        this.items = items;\n        this.filterByType();\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load documentation: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n  filterByType() {\n    if (this.selectedType === 'All') {\n      this.filteredItems = [...this.items];\n    } else {\n      this.filteredItems = this.items.filter(d => d.type === this.selectedType);\n    }\n  }\n  onTypeFilterChange() {\n    this.filterByType();\n  }\n  selectItem(item) {\n    this.selectedItem = item;\n  }\n  viewItem(item) {\n    this.currentAction = 'view';\n    this.isViewing = true;\n    this.detailItem = item;\n    this.error = null;\n  }\n  createItem() {\n    this.currentAction = 'create';\n    this.isCreating = true;\n    this.selectedItem = null;\n    this.tagsInput = '';\n    this.formData = {\n      id: '',\n      title: '',\n      type: 'ADR',\n      tags: [],\n      lastUpdated: new Date().toISOString().split('T')[0],\n      content: ''\n    };\n    this.error = null;\n  }\n  editItem(item) {\n    this.currentAction = 'update';\n    this.isUpdating = true;\n    this.selectedItem = item;\n    this.formData = {\n      ...item,\n      tags: [...item.tags]\n    };\n    this.tagsInput = item.tags.join(', ');\n    this.error = null;\n  }\n  deleteItem(item) {\n    this.currentAction = 'delete';\n    this.isDeleting = true;\n    this.selectedItem = item;\n    this.error = null;\n  }\n  saveItem() {\n    this.loading = true;\n    // Parse tags from comma-separated input\n    this.formData.tags = this.tagsInput.split(',').map(t => t.trim()).filter(t => t);\n    this.formData.lastUpdated = new Date().toISOString().split('T')[0];\n    const doc = {\n      ...this.selectedItem,\n      ...this.formData\n    };\n    if (this.isCreating) {\n      this.documentationService.addDoc(doc);\n      this.loadItems();\n      this.cancelAction();\n    } else if (this.isUpdating && doc.id) {\n      this.documentationService.updateDoc(doc.id, doc);\n      this.loadItems();\n      this.cancelAction();\n    }\n    this.loading = false;\n  }\n  confirmDelete() {\n    if (this.selectedItem?.id) {\n      this.documentationService.deleteDoc(this.selectedItem.id);\n      this.loadItems();\n    }\n    this.cancelAction();\n  }\n  cancelAction() {\n    this.currentAction = 'list';\n    this.isCreating = false;\n    this.isUpdating = false;\n    this.isDeleting = false;\n    this.isViewing = false;\n    this.selectedItem = null;\n    this.detailItem = null;\n    this.error = null;\n    this.formData = {};\n    this.tagsInput = '';\n  }\n  goBack() {\n    this.cancelAction();\n  }\n  getTypeClass(type) {\n    const typeClasses = {\n      'ADR': 'type-adr',\n      'RFC': 'type-rfc',\n      'Manual': 'type-manual',\n      'Policy': 'type-policy'\n    };\n    return typeClasses[type] || '';\n  }\n  getTypeIcon(type) {\n    const typeIcons = {\n      'ADR': 'üìã',\n      'RFC': 'üìù',\n      'Manual': 'üìñ',\n      'Policy': 'üìú'\n    };\n    return typeIcons[type] || 'üìÑ';\n  }\n};\nDocumentationDashboardComponent = __decorate([Component({\n  selector: 'app-documentation-dashboard',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './documentation-dashboard.component.html',\n  styleUrls: ['./documentation-dashboard.component.scss']\n})], DocumentationDashboardComponent);\nexport { DocumentationDashboardComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","RouterModule","DocumentationDashboardComponent","constructor","documentationService","modelName","items","filteredItems","selectedItem","detailItem","isCreating","isUpdating","isDeleting","isViewing","currentAction","loading","error","selectedType","typeOptions","formData","id","title","type","tags","lastUpdated","content","tagsInput","ngOnInit","loadItems","getDocs","subscribe","next","filterByType","err","message","filter","d","onTypeFilterChange","selectItem","item","viewItem","createItem","Date","toISOString","split","editItem","join","deleteItem","saveItem","map","t","trim","doc","addDoc","cancelAction","updateDoc","confirmDelete","deleteDoc","goBack","getTypeClass","typeClasses","getTypeIcon","typeIcons","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/management/documentation-dashboard/documentation-dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { Documentation, DocumentType } from '@app/core/models/documentation.model';\nimport { DocumentationService } from '@app/core/services/documentation.service';\n\n@Component({\n  selector: 'app-documentation-dashboard',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './documentation-dashboard.component.html',\n  styleUrls: ['./documentation-dashboard.component.scss']\n})\nexport class DocumentationDashboardComponent implements OnInit {\n  modelName = 'Documentation';\n  items: Documentation[] = [];\n  filteredItems: Documentation[] = [];\n  selectedItem: Documentation | null = null;\n  detailItem: Documentation | null = null;\n  isCreating = false;\n  isUpdating = false;\n  isDeleting = false;\n  isViewing = false;\n  currentAction: 'list' | 'create' | 'update' | 'delete' | 'view' = 'list';\n  loading = false;\n  error: string | null = null;\n  selectedType: DocumentType | 'All' = 'All';\n\n  typeOptions: DocumentType[] = ['ADR', 'RFC', 'Manual', 'Policy'];\n\n  formData: Partial<Documentation> = {\n    id: '',\n    title: '',\n    type: 'ADR',\n    tags: [],\n    lastUpdated: '',\n    content: ''\n  };\n\n  tagsInput = '';\n\n  constructor(private documentationService: DocumentationService) {}\n\n  ngOnInit(): void {\n    this.loadItems();\n  }\n\n  loadItems(): void {\n    this.loading = true;\n    this.documentationService.getDocs().subscribe({\n      next: (items: Documentation[]) => {\n        this.items = items;\n        this.filterByType();\n        this.loading = false;\n      },\n      error: (err: any) => {\n        this.error = 'Failed to load documentation: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n\n  filterByType(): void {\n    if (this.selectedType === 'All') {\n      this.filteredItems = [...this.items];\n    } else {\n      this.filteredItems = this.items.filter(d => d.type === this.selectedType);\n    }\n  }\n\n  onTypeFilterChange(): void {\n    this.filterByType();\n  }\n\n  selectItem(item: Documentation): void {\n    this.selectedItem = item;\n  }\n\n  viewItem(item: Documentation): void {\n    this.currentAction = 'view';\n    this.isViewing = true;\n    this.detailItem = item;\n    this.error = null;\n  }\n\n  createItem(): void {\n    this.currentAction = 'create';\n    this.isCreating = true;\n    this.selectedItem = null;\n    this.tagsInput = '';\n    this.formData = {\n      id: '',\n      title: '',\n      type: 'ADR',\n      tags: [],\n      lastUpdated: new Date().toISOString().split('T')[0],\n      content: ''\n    };\n    this.error = null;\n  }\n\n  editItem(item: Documentation): void {\n    this.currentAction = 'update';\n    this.isUpdating = true;\n    this.selectedItem = item;\n    this.formData = { ...item, tags: [...item.tags] };\n    this.tagsInput = item.tags.join(', ');\n    this.error = null;\n  }\n\n  deleteItem(item: Documentation): void {\n    this.currentAction = 'delete';\n    this.isDeleting = true;\n    this.selectedItem = item;\n    this.error = null;\n  }\n\n  saveItem(): void {\n    this.loading = true;\n    \n    // Parse tags from comma-separated input\n    this.formData.tags = this.tagsInput.split(',').map(t => t.trim()).filter(t => t);\n    this.formData.lastUpdated = new Date().toISOString().split('T')[0];\n    \n    const doc = { ...this.selectedItem, ...this.formData } as Documentation;\n\n    if (this.isCreating) {\n      this.documentationService.addDoc(doc);\n      this.loadItems();\n      this.cancelAction();\n    } else if (this.isUpdating && doc.id) {\n      this.documentationService.updateDoc(doc.id, doc);\n      this.loadItems();\n      this.cancelAction();\n    }\n    this.loading = false;\n  }\n\n  confirmDelete(): void {\n    if (this.selectedItem?.id) {\n      this.documentationService.deleteDoc(this.selectedItem.id);\n      this.loadItems();\n    }\n    this.cancelAction();\n  }\n\n  cancelAction(): void {\n    this.currentAction = 'list';\n    this.isCreating = false;\n    this.isUpdating = false;\n    this.isDeleting = false;\n    this.isViewing = false;\n    this.selectedItem = null;\n    this.detailItem = null;\n    this.error = null;\n    this.formData = {};\n    this.tagsInput = '';\n  }\n\n  goBack(): void {\n    this.cancelAction();\n  }\n\n  getTypeClass(type: string): string {\n    const typeClasses: { [key: string]: string } = {\n      'ADR': 'type-adr',\n      'RFC': 'type-rfc',\n      'Manual': 'type-manual',\n      'Policy': 'type-policy'\n    };\n    return typeClasses[type] || '';\n  }\n\n  getTypeIcon(type: string): string {\n    const typeIcons: { [key: string]: string } = {\n      'ADR': 'üìã',\n      'RFC': 'üìù',\n      'Manual': 'üìñ',\n      'Policy': 'üìú'\n    };\n    return typeIcons[type] || 'üìÑ';\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}