{"ast":null,"code":"import { inject, signal } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ToastComponent } from './toast.component';\nimport * as i0 from \"@angular/core\";\nconst DEFAULT_DURATION = 5000;\nexport class ToastService {\n  constructor() {\n    this.snackBar = inject(MatSnackBar);\n    this.activeToast = signal(null);\n  }\n  /**\n   * Show a toast notification\n   */\n  show(data, options) {\n    const config = {\n      data,\n      duration: options?.duration ?? DEFAULT_DURATION,\n      verticalPosition: options?.position ?? 'top',\n      horizontalPosition: options?.horizontalPosition ?? 'end',\n      panelClass: ['toast-panel', `toast-${data.type}`]\n    };\n    const ref = this.snackBar.openFromComponent(ToastComponent, config);\n    this.activeToast.set(ref);\n    ref.afterDismissed().subscribe(() => {\n      if (this.activeToast() === ref) {\n        this.activeToast.set(null);\n      }\n    });\n    return ref;\n  }\n  /**\n   * Show a success toast\n   */\n  success(message, title, options) {\n    return this.show({\n      message,\n      title,\n      type: 'success',\n      ...options\n    });\n  }\n  /**\n   * Show an error toast\n   */\n  error(message, title, options) {\n    return this.show({\n      message,\n      title,\n      type: 'error',\n      duration: 0,\n      closable: true,\n      ...options\n    });\n  }\n  /**\n   * Show an info toast\n   */\n  info(message, title, options) {\n    return this.show({\n      message,\n      title,\n      type: 'info',\n      ...options\n    });\n  }\n  /**\n   * Show a warning toast\n   */\n  warning(message, title, options) {\n    return this.show({\n      message,\n      title,\n      type: 'warning',\n      ...options\n    });\n  }\n  /**\n   * Show a toast with an action button\n   */\n  withAction(message, actionLabel, actionCallback, type = 'info', options) {\n    return this.show({\n      message,\n      type,\n      action: {\n        label: actionLabel,\n        callback: actionCallback\n      },\n      closable: true,\n      ...options\n    }, {\n      duration: 0\n    });\n  }\n  /**\n   * Dismiss the currently active toast\n   */\n  dismiss() {\n    this.activeToast()?.dismiss();\n  }\n  /**\n   * Legacy method for backward compatibility\n   * @deprecated Use show(), success(), error(), info(), or warning() instead\n   */\n  open(data, duration) {\n    this.show(data, {\n      duration\n    });\n  }\n  static {\n    this.ɵfac = function ToastService_Factory(t) {\n      return new (t || ToastService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ToastService,\n      factory: ToastService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["inject","signal","MatSnackBar","ToastComponent","DEFAULT_DURATION","ToastService","constructor","snackBar","activeToast","show","data","options","config","duration","verticalPosition","position","horizontalPosition","panelClass","type","ref","openFromComponent","set","afterDismissed","subscribe","success","message","title","error","closable","info","warning","withAction","actionLabel","actionCallback","action","label","callback","dismiss","open","factory","ɵfac","providedIn"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/shared/toast/toast.service.ts"],"sourcesContent":["import { inject, Injectable, signal } from '@angular/core';\nimport { MatSnackBar, MatSnackBarConfig, MatSnackBarRef } from '@angular/material/snack-bar';\nimport { ToastComponent, ToastData, ToastType } from './toast.component';\n\nexport interface ToastOptions extends Partial<ToastData> {\n  duration?: number;\n  position?: 'top' | 'bottom';\n  horizontalPosition?: 'start' | 'center' | 'end';\n}\n\nconst DEFAULT_DURATION = 5000;\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ToastService {\n  private readonly snackBar = inject(MatSnackBar);\n  private activeToast = signal<MatSnackBarRef<ToastComponent> | null>(null);\n\n  /**\n   * Show a toast notification\n   */\n  show(data: ToastData, options?: Omit<ToastOptions, keyof ToastData>): MatSnackBarRef<ToastComponent> {\n    const config: MatSnackBarConfig = {\n      data,\n      duration: options?.duration ?? DEFAULT_DURATION,\n      verticalPosition: options?.position ?? 'top',\n      horizontalPosition: options?.horizontalPosition ?? 'end',\n      panelClass: ['toast-panel', `toast-${data.type}`],\n    };\n\n    const ref = this.snackBar.openFromComponent(ToastComponent, config);\n    this.activeToast.set(ref);\n    \n    ref.afterDismissed().subscribe(() => {\n      if (this.activeToast() === ref) {\n        this.activeToast.set(null);\n      }\n    });\n\n    return ref;\n  }\n\n  /**\n   * Show a success toast\n   */\n  success(message: string, title?: string, options?: Omit<ToastOptions, 'message' | 'title' | 'type'>): MatSnackBarRef<ToastComponent> {\n    return this.show({ message, title, type: 'success', ...options });\n  }\n\n  /**\n   * Show an error toast\n   */\n  error(message: string, title?: string, options?: Omit<ToastOptions, 'message' | 'title' | 'type'>): MatSnackBarRef<ToastComponent> {\n    return this.show({ message, title, type: 'error', duration: 0, closable: true, ...options });\n  }\n\n  /**\n   * Show an info toast\n   */\n  info(message: string, title?: string, options?: Omit<ToastOptions, 'message' | 'title' | 'type'>): MatSnackBarRef<ToastComponent> {\n    return this.show({ message, title, type: 'info', ...options });\n  }\n\n  /**\n   * Show a warning toast\n   */\n  warning(message: string, title?: string, options?: Omit<ToastOptions, 'message' | 'title' | 'type'>): MatSnackBarRef<ToastComponent> {\n    return this.show({ message, title, type: 'warning', ...options });\n  }\n\n  /**\n   * Show a toast with an action button\n   */\n  withAction(\n    message: string, \n    actionLabel: string, \n    actionCallback: () => void,\n    type: ToastType = 'info',\n    options?: Omit<ToastOptions, 'message' | 'type' | 'action'>\n  ): MatSnackBarRef<ToastComponent> {\n    return this.show({\n      message,\n      type,\n      action: { label: actionLabel, callback: actionCallback },\n      closable: true,\n      ...options\n    }, { duration: 0 });\n  }\n\n  /**\n   * Dismiss the currently active toast\n   */\n  dismiss(): void {\n    this.activeToast()?.dismiss();\n  }\n\n  /**\n   * Legacy method for backward compatibility\n   * @deprecated Use show(), success(), error(), info(), or warning() instead\n   */\n  open(data: ToastData, duration?: number): void {\n    this.show(data, { duration });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}