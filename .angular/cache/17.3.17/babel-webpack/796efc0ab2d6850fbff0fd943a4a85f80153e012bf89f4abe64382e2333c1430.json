{"ast":null,"code":"import { inject, signal, computed } from '@angular/core';\nimport { Overlay } from '@angular/cdk/overlay';\nimport { ComponentPortal } from '@angular/cdk/portal';\nimport * as i0 from \"@angular/core\";\n/**\n * Standalone loading spinner component\n */\nexport let LoadingSpinnerComponent = /*#__PURE__*/(() => {\n  class LoadingSpinnerComponent {\n    static {\n      this.ɵfac = function LoadingSpinnerComponent_Factory(t) {\n        return new (t || LoadingSpinnerComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: LoadingSpinnerComponent,\n        selectors: [[\"app-loading-spinner\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 5,\n        vars: 0,\n        consts: [[1, \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"gap-4\"], [1, \"relative\"], [1, \"w-12\", \"h-12\", \"border-4\", \"border-slate-700\", \"border-t-cyan-500\", \"rounded-full\", \"animate-spin\"], [1, \"text-sm\", \"text-slate-400\", \"font-medium\", \"animate-pulse\"]],\n        template: function LoadingSpinnerComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n            i0.ɵɵelement(2, \"div\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"span\", 3);\n            i0.ɵɵtext(4, \"Loading...\");\n            i0.ɵɵelementEnd()();\n          }\n        },\n        styles: [\"[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}\"]\n      });\n    }\n  }\n  return LoadingSpinnerComponent;\n})();\nexport let LoadingService = /*#__PURE__*/(() => {\n  class LoadingService {\n    constructor() {\n      this.overlay = inject(Overlay);\n      this.overlayRef = null;\n      this.loadingCount = signal(0);\n      /**\n       * Whether the loading overlay is currently visible\n       */\n      this.isLoading = computed(() => this.loadingCount() > 0);\n    }\n    /**\n     * Show the loading overlay\n     * Supports nested calls - overlay stays visible until all hide() calls match show() calls\n     */\n    show() {\n      this.loadingCount.update(count => count + 1);\n      if (this.loadingCount() === 1) {\n        this.createOverlay();\n      }\n    }\n    /**\n     * Hide the loading overlay\n     * Only actually hides when all nested show() calls have been matched with hide()\n     */\n    hide() {\n      this.loadingCount.update(count => Math.max(0, count - 1));\n      if (this.loadingCount() === 0) {\n        this.destroyOverlay();\n      }\n    }\n    /**\n     * Force hide the loading overlay regardless of nested calls\n     */\n    forceHide() {\n      this.loadingCount.set(0);\n      this.destroyOverlay();\n    }\n    createOverlay() {\n      if (this.overlayRef) {\n        return;\n      }\n      this.overlayRef = this.overlay.create({\n        hasBackdrop: true,\n        backdropClass: ['bg-slate-900/80', 'backdrop-blur-sm'],\n        positionStrategy: this.overlay.position().global().centerHorizontally().centerVertically(),\n        scrollStrategy: this.overlay.scrollStrategies.block()\n      });\n      this.overlayRef.attach(new ComponentPortal(LoadingSpinnerComponent));\n    }\n    destroyOverlay() {\n      if (this.overlayRef?.hasAttached()) {\n        this.overlayRef.detach();\n      }\n      this.overlayRef?.dispose();\n      this.overlayRef = null;\n    }\n    static {\n      this.ɵfac = function LoadingService_Factory(t) {\n        return new (t || LoadingService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: LoadingService,\n        factory: LoadingService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return LoadingService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}