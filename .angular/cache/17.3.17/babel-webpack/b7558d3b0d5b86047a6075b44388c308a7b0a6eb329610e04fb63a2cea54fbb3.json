{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nlet MetricDashboardComponent = class MetricDashboardComponent {\n  constructor(metricService) {\n    this.metricService = metricService;\n    this.modelName = 'Metric';\n    this.items = [];\n    this.filteredItems = [];\n    this.selectedItem = null;\n    this.detailItem = null;\n    this.isCreating = false;\n    this.isUpdating = false;\n    this.isDeleting = false;\n    this.isViewing = false;\n    this.currentAction = 'list';\n    this.loading = false;\n    this.error = null;\n    this.selectedCategory = 'All';\n    this.categoryOptions = ['Performance', 'Availability', 'Business', 'Security'];\n    this.trendOptions = ['up', 'down', 'stable'];\n    this.formData = {\n      label: '',\n      value: '',\n      trend: 'stable',\n      category: 'Performance',\n      description: ''\n    };\n  }\n  ngOnInit() {\n    this.loadItems();\n  }\n  loadItems() {\n    this.loading = true;\n    this.metricService.getMetrics().subscribe({\n      next: items => {\n        this.items = items;\n        this.filterByCategory();\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load metrics: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n  filterByCategory() {\n    if (this.selectedCategory === 'All') {\n      this.filteredItems = [...this.items];\n    } else {\n      this.filteredItems = this.items.filter(m => m.category === this.selectedCategory);\n    }\n  }\n  onCategoryFilterChange() {\n    this.filterByCategory();\n  }\n  selectItem(item) {\n    this.selectedItem = item;\n  }\n  viewItem(item) {\n    this.currentAction = 'view';\n    this.isViewing = true;\n    this.detailItem = item;\n    this.error = null;\n  }\n  createItem() {\n    this.currentAction = 'create';\n    this.isCreating = true;\n    this.selectedItem = null;\n    this.formData = {\n      label: '',\n      value: '',\n      trend: 'stable',\n      category: 'Performance',\n      description: ''\n    };\n    this.error = null;\n  }\n  editItem(item) {\n    this.currentAction = 'update';\n    this.isUpdating = true;\n    this.selectedItem = item;\n    this.formData = {\n      ...item\n    };\n    this.error = null;\n  }\n  deleteItem(item) {\n    this.currentAction = 'delete';\n    this.isDeleting = true;\n    this.selectedItem = item;\n    this.error = null;\n  }\n  saveItem() {\n    this.loading = true;\n    const metric = {\n      ...this.selectedItem,\n      ...this.formData\n    };\n    if (this.isCreating) {\n      this.metricService.addMetric(metric);\n      this.loadItems();\n      this.cancelAction();\n    } else if (this.isUpdating && metric.id) {\n      this.metricService.updateMetric(metric.id, metric);\n      this.loadItems();\n      this.cancelAction();\n    }\n    this.loading = false;\n  }\n  confirmDelete() {\n    if (this.selectedItem?.id) {\n      this.metricService.deleteMetric(this.selectedItem.id);\n      this.loadItems();\n    }\n    this.cancelAction();\n  }\n  cancelAction() {\n    this.currentAction = 'list';\n    this.isCreating = false;\n    this.isUpdating = false;\n    this.isDeleting = false;\n    this.isViewing = false;\n    this.selectedItem = null;\n    this.detailItem = null;\n    this.error = null;\n    this.formData = {};\n  }\n  goBack() {\n    this.cancelAction();\n  }\n  getCategoryClass(category) {\n    const categoryClasses = {\n      'Performance': 'category-performance',\n      'Availability': 'category-availability',\n      'Business': 'category-business',\n      'Security': 'category-security'\n    };\n    return categoryClasses[category] || '';\n  }\n  getTrendClass(trend) {\n    const trendClasses = {\n      'up': 'trend-up',\n      'down': 'trend-down',\n      'stable': 'trend-stable'\n    };\n    return trendClasses[trend] || '';\n  }\n  getTrendIcon(trend) {\n    const icons = {\n      'up': 'â†‘',\n      'down': 'â†“',\n      'stable': 'â†’'\n    };\n    return icons[trend] || 'â†’';\n  }\n  getCategoryIcon(category) {\n    const icons = {\n      'Performance': 'âš¡',\n      'Availability': 'ðŸŸ¢',\n      'Business': 'ðŸ“ˆ',\n      'Security': 'ðŸ”’'\n    };\n    return icons[category] || 'ðŸ“Š';\n  }\n};\nMetricDashboardComponent = __decorate([Component({\n  selector: 'app-metric-dashboard',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './metric-dashboard.component.html',\n  styleUrls: ['./metric-dashboard.component.scss']\n})], MetricDashboardComponent);\nexport { MetricDashboardComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","RouterModule","MetricDashboardComponent","constructor","metricService","modelName","items","filteredItems","selectedItem","detailItem","isCreating","isUpdating","isDeleting","isViewing","currentAction","loading","error","selectedCategory","categoryOptions","trendOptions","formData","label","value","trend","category","description","ngOnInit","loadItems","getMetrics","subscribe","next","filterByCategory","err","message","filter","m","onCategoryFilterChange","selectItem","item","viewItem","createItem","editItem","deleteItem","saveItem","metric","addMetric","cancelAction","id","updateMetric","confirmDelete","deleteMetric","goBack","getCategoryClass","categoryClasses","getTrendClass","trendClasses","getTrendIcon","icons","getCategoryIcon","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/management/metric-dashboard/metric-dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { MetricEntry, MetricService } from '@app/core/services/metric.service';\n\ntype MetricCategory = 'Performance' | 'Availability' | 'Business' | 'Security';\ntype TrendType = 'up' | 'down' | 'stable';\n\n@Component({\n  selector: 'app-metric-dashboard',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './metric-dashboard.component.html',\n  styleUrls: ['./metric-dashboard.component.scss']\n})\nexport class MetricDashboardComponent implements OnInit {\n  modelName = 'Metric';\n  items: MetricEntry[] = [];\n  filteredItems: MetricEntry[] = [];\n  selectedItem: MetricEntry | null = null;\n  detailItem: MetricEntry | null = null;\n  isCreating = false;\n  isUpdating = false;\n  isDeleting = false;\n  isViewing = false;\n  currentAction: 'list' | 'create' | 'update' | 'delete' | 'view' = 'list';\n  loading = false;\n  error: string | null = null;\n  selectedCategory: MetricCategory | 'All' = 'All';\n\n  categoryOptions: MetricCategory[] = ['Performance', 'Availability', 'Business', 'Security'];\n  trendOptions: TrendType[] = ['up', 'down', 'stable'];\n\n  formData: Partial<MetricEntry> = {\n    label: '',\n    value: '',\n    trend: 'stable',\n    category: 'Performance',\n    description: ''\n  };\n\n  constructor(private metricService: MetricService) {}\n\n  ngOnInit(): void {\n    this.loadItems();\n  }\n\n  loadItems(): void {\n    this.loading = true;\n    this.metricService.getMetrics().subscribe({\n      next: (items: MetricEntry[]) => {\n        this.items = items;\n        this.filterByCategory();\n        this.loading = false;\n      },\n      error: (err: any) => {\n        this.error = 'Failed to load metrics: ' + err.message;\n        this.loading = false;\n      }\n    });\n  }\n\n  filterByCategory(): void {\n    if (this.selectedCategory === 'All') {\n      this.filteredItems = [...this.items];\n    } else {\n      this.filteredItems = this.items.filter(m => m.category === this.selectedCategory);\n    }\n  }\n\n  onCategoryFilterChange(): void {\n    this.filterByCategory();\n  }\n\n  selectItem(item: MetricEntry): void {\n    this.selectedItem = item;\n  }\n\n  viewItem(item: MetricEntry): void {\n    this.currentAction = 'view';\n    this.isViewing = true;\n    this.detailItem = item;\n    this.error = null;\n  }\n\n  createItem(): void {\n    this.currentAction = 'create';\n    this.isCreating = true;\n    this.selectedItem = null;\n    this.formData = {\n      label: '',\n      value: '',\n      trend: 'stable',\n      category: 'Performance',\n      description: ''\n    };\n    this.error = null;\n  }\n\n  editItem(item: MetricEntry): void {\n    this.currentAction = 'update';\n    this.isUpdating = true;\n    this.selectedItem = item;\n    this.formData = { ...item };\n    this.error = null;\n  }\n\n  deleteItem(item: MetricEntry): void {\n    this.currentAction = 'delete';\n    this.isDeleting = true;\n    this.selectedItem = item;\n    this.error = null;\n  }\n\n  saveItem(): void {\n    this.loading = true;\n    \n    const metric = { ...this.selectedItem, ...this.formData } as MetricEntry;\n\n    if (this.isCreating) {\n      this.metricService.addMetric(metric);\n      this.loadItems();\n      this.cancelAction();\n    } else if (this.isUpdating && metric.id) {\n      this.metricService.updateMetric(metric.id, metric);\n      this.loadItems();\n      this.cancelAction();\n    }\n    this.loading = false;\n  }\n\n  confirmDelete(): void {\n    if (this.selectedItem?.id) {\n      this.metricService.deleteMetric(this.selectedItem.id);\n      this.loadItems();\n    }\n    this.cancelAction();\n  }\n\n  cancelAction(): void {\n    this.currentAction = 'list';\n    this.isCreating = false;\n    this.isUpdating = false;\n    this.isDeleting = false;\n    this.isViewing = false;\n    this.selectedItem = null;\n    this.detailItem = null;\n    this.error = null;\n    this.formData = {};\n  }\n\n  goBack(): void {\n    this.cancelAction();\n  }\n\n  getCategoryClass(category: string): string {\n    const categoryClasses: { [key: string]: string } = {\n      'Performance': 'category-performance',\n      'Availability': 'category-availability',\n      'Business': 'category-business',\n      'Security': 'category-security'\n    };\n    return categoryClasses[category] || '';\n  }\n\n  getTrendClass(trend: string): string {\n    const trendClasses: { [key: string]: string } = {\n      'up': 'trend-up',\n      'down': 'trend-down',\n      'stable': 'trend-stable'\n    };\n    return trendClasses[trend] || '';\n  }\n\n  getTrendIcon(trend: string): string {\n    const icons: { [key: string]: string } = {\n      'up': 'â†‘',\n      'down': 'â†“',\n      'stable': 'â†’'\n    };\n    return icons[trend] || 'â†’';\n  }\n\n  getCategoryIcon(category: string): string {\n    const icons: { [key: string]: string } = {\n      'Performance': 'âš¡',\n      'Availability': 'ðŸŸ¢',\n      'Business': 'ðŸ“ˆ',\n      'Security': 'ðŸ”’'\n    };\n    return icons[category] || 'ðŸ“Š';\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}