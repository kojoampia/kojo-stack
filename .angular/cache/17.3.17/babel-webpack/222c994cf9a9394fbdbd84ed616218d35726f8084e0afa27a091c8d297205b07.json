{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { ReplaySubject, Subject } from 'rxjs';\nlet WebsocketAuthService = class WebsocketAuthService {\n  constructor(authServerProvider, location) {\n    this.authServerProvider = authServerProvider;\n    this.location = location;\n    this.routerSubscription = null;\n    this.connectionSubject = new ReplaySubject(1);\n    this.MAX_RETRIES = 5;\n    this.CURRENT_TRY = 0;\n    this.authToken = this.authServerProvider.getToken();\n  }\n  // Get the connection\n  getConnection() {\n    return this.connectionSubject;\n  }\n  isConnected() {\n    // WebSocket support removed - this service is stubbed for compatibility\n    return false;\n  }\n  connect() {\n    // WebSocket support removed - this service is stubbed for compatibility\n    this.connectionSubject.next();\n  }\n  disconnect() {\n    this.connectionSubject = new ReplaySubject(1);\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n      this.routerSubscription = null;\n    }\n  }\n  subscribe(destination) {\n    // WebSocket support removed - return a dummy subject\n    return new Subject();\n  }\n};\nWebsocketAuthService = __decorate([Injectable({\n  providedIn: 'root'\n})], WebsocketAuthService);\nexport { WebsocketAuthService };","map":{"version":3,"names":["Injectable","ReplaySubject","Subject","WebsocketAuthService","constructor","authServerProvider","location","routerSubscription","connectionSubject","MAX_RETRIES","CURRENT_TRY","authToken","getToken","getConnection","isConnected","connect","next","disconnect","unsubscribe","subscribe","destination","__decorate","providedIn"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/core/auth/websocket-auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Subscription, ReplaySubject, Subject } from 'rxjs';\n\nimport { AuthServerProvider } from 'app/core/auth/auth-jwt.service';\nimport { Location } from '@angular/common';\n\n@Injectable({ providedIn: 'root' })\nexport class WebsocketAuthService {\n  private routerSubscription: Subscription | null = null;\n  private connectionSubject: ReplaySubject<void> = new ReplaySubject(1);\n  MAX_RETRIES = 5;\n  CURRENT_TRY = 0;\n\n  authToken: string;\n\n  constructor(private authServerProvider: AuthServerProvider, private location: Location) {\n    this.authToken = this.authServerProvider.getToken();\n  }\n\n  // Get the connection\n  public getConnection(): ReplaySubject<void> {\n    return this.connectionSubject;\n  }\n\n  isConnected(): boolean {\n    // WebSocket support removed - this service is stubbed for compatibility\n    return false;\n  }\n\n  connect(): void {\n    // WebSocket support removed - this service is stubbed for compatibility\n    this.connectionSubject.next();\n  }\n\n  disconnect(): void {\n    this.connectionSubject = new ReplaySubject(1);\n\n    if (this.routerSubscription) {\n      this.routerSubscription.unsubscribe();\n      this.routerSubscription = null;\n    }\n  }\n\n  subscribe(destination: string): Subject<any> {\n    // WebSocket support removed - return a dummy subject\n    return new Subject<any>();\n  }\n}\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAAuBC,aAAa,EAAEC,OAAO,QAAQ,MAAM;AAMpD,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAQ/BC,YAAoBC,kBAAsC,EAAUC,QAAkB;IAAlE,KAAAD,kBAAkB,GAAlBA,kBAAkB;IAA8B,KAAAC,QAAQ,GAARA,QAAQ;IAPpE,KAAAC,kBAAkB,GAAwB,IAAI;IAC9C,KAAAC,iBAAiB,GAAwB,IAAIP,aAAa,CAAC,CAAC,CAAC;IACrE,KAAAQ,WAAW,GAAG,CAAC;IACf,KAAAC,WAAW,GAAG,CAAC;IAKb,IAAI,CAACC,SAAS,GAAG,IAAI,CAACN,kBAAkB,CAACO,QAAQ,EAAE;EACrD;EAEA;EACOC,aAAaA,CAAA;IAClB,OAAO,IAAI,CAACL,iBAAiB;EAC/B;EAEAM,WAAWA,CAAA;IACT;IACA,OAAO,KAAK;EACd;EAEAC,OAAOA,CAAA;IACL;IACA,IAAI,CAACP,iBAAiB,CAACQ,IAAI,EAAE;EAC/B;EAEAC,UAAUA,CAAA;IACR,IAAI,CAACT,iBAAiB,GAAG,IAAIP,aAAa,CAAC,CAAC,CAAC;IAE7C,IAAI,IAAI,CAACM,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACW,WAAW,EAAE;MACrC,IAAI,CAACX,kBAAkB,GAAG,IAAI;;EAElC;EAEAY,SAASA,CAACC,WAAmB;IAC3B;IACA,OAAO,IAAIlB,OAAO,EAAO;EAC3B;CACD;AAxCYC,oBAAoB,GAAAkB,UAAA,EADhCrB,UAAU,CAAC;EAAEsB,UAAU,EAAE;AAAM,CAAE,CAAC,C,EACtBnB,oBAAoB,CAwChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}