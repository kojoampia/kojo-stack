{"ast":null,"code":"import { HttpResponse } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nexport const notificationInterceptor = (req, next) => {\n  return next(req).pipe(tap(event => {\n    if (event instanceof HttpResponse) {\n      let alert = null;\n      let alertParams = null;\n      event.headers.keys().forEach(entry => {\n        if (entry.toLowerCase().endsWith('app-alert')) {\n          alert = event.headers.get(entry);\n        } else if (entry.toLowerCase().endsWith('app-params')) {\n          alertParams = decodeURIComponent(event.headers.get(entry).replace(/\\+/g, ' '));\n        }\n      });\n      if (alert) {\n        console.log('Server Alert:', alert, alertParams ? '(' + alertParams + ')' : '');\n      }\n    }\n  }));\n};","map":{"version":3,"names":["HttpResponse","tap","notificationInterceptor","req","next","pipe","event","alert","alertParams","headers","keys","forEach","entry","toLowerCase","endsWith","get","decodeURIComponent","replace","console","log"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/core/interceptors/notification.interceptor.ts"],"sourcesContent":["import {\n  HttpInterceptorFn,\n  HttpRequest,\n  HttpResponse,\n  HttpHandlerFn,\n  HttpEvent,\n} from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { tap } from 'rxjs/operators';\n\nexport const notificationInterceptor: HttpInterceptorFn = (\n  req: HttpRequest<unknown>,\n  next: HttpHandlerFn\n): Observable<HttpEvent<unknown>> => {\n  return next(req).pipe(\n    tap((event: HttpEvent<unknown>) => {\n      if (event instanceof HttpResponse) {\n        let alert: string | null = null;\n        let alertParams: string | null = null;\n\n        event.headers.keys().forEach(entry => {\n          if (entry.toLowerCase().endsWith('app-alert')) {\n            alert = event.headers.get(entry);\n          } else if (entry.toLowerCase().endsWith('app-params')) {\n            alertParams = decodeURIComponent(\n              event.headers.get(entry)!.replace(/\\+/g, ' ')\n            );\n          }\n        });\n\n        if (alert) {\n          console.log(\n            'Server Alert:',\n            alert,\n            alertParams ? '(' + alertParams + ')' : ''\n          );\n        }\n      }\n    })\n  );\n};\n"],"mappings":"AAAA,SAGEA,YAAY,QAGP,sBAAsB;AAE7B,SAASC,GAAG,QAAQ,gBAAgB;AAEpC,OAAO,MAAMC,uBAAuB,GAAsBA,CACxDC,GAAyB,EACzBC,IAAmB,KACe;EAClC,OAAOA,IAAI,CAACD,GAAG,CAAC,CAACE,IAAI,CACnBJ,GAAG,CAAEK,KAAyB,IAAI;IAChC,IAAIA,KAAK,YAAYN,YAAY,EAAE;MACjC,IAAIO,KAAK,GAAkB,IAAI;MAC/B,IAAIC,WAAW,GAAkB,IAAI;MAErCF,KAAK,CAACG,OAAO,CAACC,IAAI,EAAE,CAACC,OAAO,CAACC,KAAK,IAAG;QACnC,IAAIA,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,WAAW,CAAC,EAAE;UAC7CP,KAAK,GAAGD,KAAK,CAACG,OAAO,CAACM,GAAG,CAACH,KAAK,CAAC;SACjC,MAAM,IAAIA,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,YAAY,CAAC,EAAE;UACrDN,WAAW,GAAGQ,kBAAkB,CAC9BV,KAAK,CAACG,OAAO,CAACM,GAAG,CAACH,KAAK,CAAE,CAACK,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAC9C;;MAEL,CAAC,CAAC;MAEF,IAAIV,KAAK,EAAE;QACTW,OAAO,CAACC,GAAG,CACT,eAAe,EACfZ,KAAK,EACLC,WAAW,GAAG,GAAG,GAAGA,WAAW,GAAG,GAAG,GAAG,EAAE,CAC3C;;;EAGP,CAAC,CAAC,CACH;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}