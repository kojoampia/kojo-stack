{"ast":null,"code":"import { KS_DASHBOARD_URL, SERVER_API_URL } from '@app/app.constants';\nexport const authInterceptor = (req, next) => {\n  if (KS_DASHBOARD_URL && req.url.startsWith(KS_DASHBOARD_URL)) {\n    const token = localStorage.getItem('generalWebAuthenticationToken') || sessionStorage.getItem('generalWebAuthenticationToken');\n    if (token) {\n      req = req.clone({\n        setHeaders: {\n          Authorization: 'Bearer ' + token\n        }\n      });\n    }\n    return next(req);\n  }\n  if (!req?.url || req.url?.startsWith('http') && !(SERVER_API_URL && req.url?.startsWith(SERVER_API_URL))) {\n    return next(req);\n  }\n  const token = localStorage.getItem('authenticationToken') || sessionStorage.getItem('authenticationToken');\n  if (token) {\n    req = req.clone({\n      setHeaders: {\n        Authorization: 'Bearer ' + token\n      }\n    });\n  }\n  return next(req);\n};","map":{"version":3,"names":["KS_DASHBOARD_URL","SERVER_API_URL","authInterceptor","req","next","url","startsWith","token","localStorage","getItem","sessionStorage","clone","setHeaders","Authorization"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/core/interceptors/auth.interceptor.ts"],"sourcesContent":["import { Observable } from 'rxjs';\nimport { HttpInterceptorFn, HttpRequest, HttpHandlerFn, HttpEvent } from '@angular/common/http';\nimport { KS_DASHBOARD_URL, SERVER_API_URL } from '@app/app.constants';\n\nexport const authInterceptor: HttpInterceptorFn = (\n  req: HttpRequest<unknown>,\n  next: HttpHandlerFn\n): Observable<HttpEvent<unknown>> => {\n  if (KS_DASHBOARD_URL && req.url.startsWith(KS_DASHBOARD_URL)) {\n    const token =\n      localStorage.getItem('generalWebAuthenticationToken') || sessionStorage.getItem('generalWebAuthenticationToken');\n    if (token) {\n      req = req.clone({\n        setHeaders: {\n          Authorization: 'Bearer ' + token,\n        },\n      });\n    }\n    return next(req);\n  }\n\n  if (!req?.url || (req.url?.startsWith('http') && !(SERVER_API_URL && req.url?.startsWith(SERVER_API_URL)))) {\n    return next(req);\n  }\n\n  const token = localStorage.getItem('authenticationToken') || sessionStorage.getItem('authenticationToken');\n  if (token) {\n    req = req.clone({\n      setHeaders: {\n        Authorization: 'Bearer ' + token,\n      },\n    });\n  }\n  return next(req);\n};\n"],"mappings":"AAEA,SAASA,gBAAgB,EAAEC,cAAc,QAAQ,oBAAoB;AAErE,OAAO,MAAMC,eAAe,GAAsBA,CAChDC,GAAyB,EACzBC,IAAmB,KACe;EAClC,IAAIJ,gBAAgB,IAAIG,GAAG,CAACE,GAAG,CAACC,UAAU,CAACN,gBAAgB,CAAC,EAAE;IAC5D,MAAMO,KAAK,GACTC,YAAY,CAACC,OAAO,CAAC,+BAA+B,CAAC,IAAIC,cAAc,CAACD,OAAO,CAAC,+BAA+B,CAAC;IAClH,IAAIF,KAAK,EAAE;MACTJ,GAAG,GAAGA,GAAG,CAACQ,KAAK,CAAC;QACdC,UAAU,EAAE;UACVC,aAAa,EAAE,SAAS,GAAGN;;OAE9B,CAAC;;IAEJ,OAAOH,IAAI,CAACD,GAAG,CAAC;;EAGlB,IAAI,CAACA,GAAG,EAAEE,GAAG,IAAKF,GAAG,CAACE,GAAG,EAAEC,UAAU,CAAC,MAAM,CAAC,IAAI,EAAEL,cAAc,IAAIE,GAAG,CAACE,GAAG,EAAEC,UAAU,CAACL,cAAc,CAAC,CAAE,EAAE;IAC1G,OAAOG,IAAI,CAACD,GAAG,CAAC;;EAGlB,MAAMI,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC,IAAIC,cAAc,CAACD,OAAO,CAAC,qBAAqB,CAAC;EAC1G,IAAIF,KAAK,EAAE;IACTJ,GAAG,GAAGA,GAAG,CAACQ,KAAK,CAAC;MACdC,UAAU,EAAE;QACVC,aAAa,EAAE,SAAS,GAAGN;;KAE9B,CAAC;;EAEJ,OAAOH,IAAI,CAACD,GAAG,CAAC;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}