{"ast":null,"code":"import { BehaviorSubject, Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class DocumentationService {\n  constructor() {\n    this.docs$ = new BehaviorSubject([{\n      id: 'ADR-2024-001',\n      title: 'Event-Driven Architecture Strategy',\n      type: 'ADR',\n      tags: ['Kafka', 'Microservices', 'Abofonsa'],\n      lastUpdated: '2024-03-15',\n      content: `\n# Context\nFor the Abofonsa Mobile Health Service, we require a near-real-time communication brokerage platform. The current polling mechanism causes latency and database contention.\n\n# Decision\nWe will implement an Event-Driven Architecture using Apache Kafka.\n\n## Key Components\n1. **Producer:** Mobile App Gateways publishing \"HealthEvent\" topics.\n2. **Broker:** Kafka Cluster (3 nodes) for persistence and reliability.\n3. **Consumer:** Analytics Service and Alerting Service.\n\n# Consequences\n* **Positive:** Latency reduced from seconds to milliseconds. Decoupled services.\n* **Negative:** Increased operational complexity (Zookeeper/Kafka management).\n* **Mitigation:** Use Managed Kafka or Strimzi Operator on Kubernetes.\n      `\n    }, {\n      id: 'SEC-POL-003',\n      title: 'OWASP Top 10 Mitigation Strategy',\n      type: 'Policy',\n      tags: ['Security', 'Spring Boot', 'Bedrock'],\n      lastUpdated: '2022-11-20',\n      content: `\n# Policy Statement\nAll public-facing portals for Bedrock Insurance must comply with OWASP Top 10 standards.\n\n# Implementation Guidelines\n\n## 1. Injection (A03:2021)\n* Use Prepared Statements (JPA/Hibernate) for all SQL queries.\n* Validate all inputs using a strict whitelist.\n\n## 2. Broken Access Control (A01:2021)\n* Implement Role-Based Access Control (RBAC) using Spring Security.\n* Enforce object-level authorization (e.g., users can only see their own policies).\n\n## 3. Cryptographic Failures (A02:2021)\n* Enforce TLS 1.3 for all traffic.\n* Encrypt PII (Personally Identifiable Information) at rest using AES-256.\n      `\n    }, {\n      id: 'OPS-MAN-002',\n      title: 'OpenShift Migration Playbook',\n      type: 'Manual',\n      tags: ['DevOps', 'OpenShift', 'Accenture'],\n      lastUpdated: '2023-06-10',\n      content: `\n# Overview\nStandard operating procedure for migrating legacy Java applications to OpenShift PaaS.\n\n# Phase 1: Containerization\n1.  Create \\`Dockerfile\\` based on \\`openjdk:17-slim\\`.\n2.  Optimize layers (copy dependencies before source).\n3.  Add non-root user for security compliance.\n\n# Phase 2: Helm Chart Creation\n1.  Define \\`Deployment\\`, \\`Service\\`, and \\`Route\\` resources.\n2.  Externalize configurations to \\`ConfigMap\\` and \\`Secret\\`.\n3.  Implement \\`LivenessProbe\\` and \\`ReadinessProbe\\` endpoints.\n\n# Phase 3: Observability\n1.  Enable ServiceMonitor for Prometheus scraping.\n2.  Verify logs are shipping to LGTM | ELK stack.\n      `\n    }]);\n  }\n  getDocs() {\n    return this.docs$.asObservable();\n  }\n  getDocById(id) {\n    return new Observable(observer => {\n      const doc = this.docs$.value.find(d => d.id === id);\n      observer.next(doc);\n      observer.complete();\n    });\n  }\n  addDoc(doc) {\n    const current = this.docs$.value;\n    this.docs$.next([...current, doc]);\n  }\n  updateDoc(id, doc) {\n    const current = this.docs$.value;\n    const updated = current.map(d => d.id === id ? {\n      ...d,\n      ...doc\n    } : d);\n    this.docs$.next(updated);\n  }\n  static {\n    this.ɵfac = function DocumentationService_Factory(t) {\n      return new (t || DocumentationService)();\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: DocumentationService,\n      factory: DocumentationService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["BehaviorSubject","Observable","DocumentationService","constructor","docs$","id","title","type","tags","lastUpdated","content","getDocs","asObservable","getDocById","observer","doc","value","find","d","next","complete","addDoc","current","updateDoc","updated","map","factory","ɵfac","providedIn"],"sources":["/home/kojo/work/JojoAddisonDev/kojo-stack/src/app/core/services/documentation.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Documentation } from '../models/documentation.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DocumentationService {\n  private docs$ = new BehaviorSubject<Documentation[]>([\n    {\n      id: 'ADR-2024-001',\n      title: 'Event-Driven Architecture Strategy',\n      type: 'ADR',\n      tags: ['Kafka', 'Microservices', 'Abofonsa'],\n      lastUpdated: '2024-03-15',\n      content: `\n# Context\nFor the Abofonsa Mobile Health Service, we require a near-real-time communication brokerage platform. The current polling mechanism causes latency and database contention.\n\n# Decision\nWe will implement an Event-Driven Architecture using Apache Kafka.\n\n## Key Components\n1. **Producer:** Mobile App Gateways publishing \"HealthEvent\" topics.\n2. **Broker:** Kafka Cluster (3 nodes) for persistence and reliability.\n3. **Consumer:** Analytics Service and Alerting Service.\n\n# Consequences\n* **Positive:** Latency reduced from seconds to milliseconds. Decoupled services.\n* **Negative:** Increased operational complexity (Zookeeper/Kafka management).\n* **Mitigation:** Use Managed Kafka or Strimzi Operator on Kubernetes.\n      `\n    },\n    {\n      id: 'SEC-POL-003',\n      title: 'OWASP Top 10 Mitigation Strategy',\n      type: 'Policy',\n      tags: ['Security', 'Spring Boot', 'Bedrock'],\n      lastUpdated: '2022-11-20',\n      content: `\n# Policy Statement\nAll public-facing portals for Bedrock Insurance must comply with OWASP Top 10 standards.\n\n# Implementation Guidelines\n\n## 1. Injection (A03:2021)\n* Use Prepared Statements (JPA/Hibernate) for all SQL queries.\n* Validate all inputs using a strict whitelist.\n\n## 2. Broken Access Control (A01:2021)\n* Implement Role-Based Access Control (RBAC) using Spring Security.\n* Enforce object-level authorization (e.g., users can only see their own policies).\n\n## 3. Cryptographic Failures (A02:2021)\n* Enforce TLS 1.3 for all traffic.\n* Encrypt PII (Personally Identifiable Information) at rest using AES-256.\n      `\n    },\n    {\n      id: 'OPS-MAN-002',\n      title: 'OpenShift Migration Playbook',\n      type: 'Manual',\n      tags: ['DevOps', 'OpenShift', 'Accenture'],\n      lastUpdated: '2023-06-10',\n      content: `\n# Overview\nStandard operating procedure for migrating legacy Java applications to OpenShift PaaS.\n\n# Phase 1: Containerization\n1.  Create \\`Dockerfile\\` based on \\`openjdk:17-slim\\`.\n2.  Optimize layers (copy dependencies before source).\n3.  Add non-root user for security compliance.\n\n# Phase 2: Helm Chart Creation\n1.  Define \\`Deployment\\`, \\`Service\\`, and \\`Route\\` resources.\n2.  Externalize configurations to \\`ConfigMap\\` and \\`Secret\\`.\n3.  Implement \\`LivenessProbe\\` and \\`ReadinessProbe\\` endpoints.\n\n# Phase 3: Observability\n1.  Enable ServiceMonitor for Prometheus scraping.\n2.  Verify logs are shipping to LGTM | ELK stack.\n      `\n    }\n  ]);\n\n  constructor() {}\n\n  getDocs(): Observable<Documentation[]> {\n    return this.docs$.asObservable();\n  }\n\n  getDocById(id: string): Observable<Documentation | undefined> {\n    return new Observable(observer => {\n      const doc = this.docs$.value.find(d => d.id === id);\n      observer.next(doc);\n      observer.complete();\n    });\n  }\n\n  addDoc(doc: Documentation): void {\n    const current = this.docs$.value;\n    this.docs$.next([...current, doc]);\n  }\n\n  updateDoc(id: string, doc: Partial<Documentation>): void {\n    const current = this.docs$.value;\n    const updated = current.map(d => d.id === id ? { ...d, ...doc } : d);\n    this.docs$.next(updated);\n  }\n}\n"],"mappings":"AACA,SAASA,eAAe,EAAEC,UAAU,QAAQ,MAAM;;AAMlD,OAAM,MAAOC,oBAAoB;EA8E/BC,YAAA;IA7EQ,KAAAC,KAAK,GAAG,IAAIJ,eAAe,CAAkB,CACnD;MACEK,EAAE,EAAE,cAAc;MAClBC,KAAK,EAAE,oCAAoC;MAC3CC,IAAI,EAAE,KAAK;MACXC,IAAI,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,UAAU,CAAC;MAC5CC,WAAW,EAAE,YAAY;MACzBC,OAAO,EAAE;;;;;;;;;;;;;;;;;KAiBV,EACD;MACEL,EAAE,EAAE,aAAa;MACjBC,KAAK,EAAE,kCAAkC;MACzCC,IAAI,EAAE,QAAQ;MACdC,IAAI,EAAE,CAAC,UAAU,EAAE,aAAa,EAAE,SAAS,CAAC;MAC5CC,WAAW,EAAE,YAAY;MACzBC,OAAO,EAAE;;;;;;;;;;;;;;;;;;KAkBV,EACD;MACEL,EAAE,EAAE,aAAa;MACjBC,KAAK,EAAE,8BAA8B;MACrCC,IAAI,EAAE,QAAQ;MACdC,IAAI,EAAE,CAAC,QAAQ,EAAE,WAAW,EAAE,WAAW,CAAC;MAC1CC,WAAW,EAAE,YAAY;MACzBC,OAAO,EAAE;;;;;;;;;;;;;;;;;;KAkBV,CACF,CAAC;EAEa;EAEfC,OAAOA,CAAA;IACL,OAAO,IAAI,CAACP,KAAK,CAACQ,YAAY,EAAE;EAClC;EAEAC,UAAUA,CAACR,EAAU;IACnB,OAAO,IAAIJ,UAAU,CAACa,QAAQ,IAAG;MAC/B,MAAMC,GAAG,GAAG,IAAI,CAACX,KAAK,CAACY,KAAK,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACb,EAAE,KAAKA,EAAE,CAAC;MACnDS,QAAQ,CAACK,IAAI,CAACJ,GAAG,CAAC;MAClBD,QAAQ,CAACM,QAAQ,EAAE;IACrB,CAAC,CAAC;EACJ;EAEAC,MAAMA,CAACN,GAAkB;IACvB,MAAMO,OAAO,GAAG,IAAI,CAAClB,KAAK,CAACY,KAAK;IAChC,IAAI,CAACZ,KAAK,CAACe,IAAI,CAAC,CAAC,GAAGG,OAAO,EAAEP,GAAG,CAAC,CAAC;EACpC;EAEAQ,SAASA,CAAClB,EAAU,EAAEU,GAA2B;IAC/C,MAAMO,OAAO,GAAG,IAAI,CAAClB,KAAK,CAACY,KAAK;IAChC,MAAMQ,OAAO,GAAGF,OAAO,CAACG,GAAG,CAACP,CAAC,IAAIA,CAAC,CAACb,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGa,CAAC;MAAE,GAAGH;IAAG,CAAE,GAAGG,CAAC,CAAC;IACpE,IAAI,CAACd,KAAK,CAACe,IAAI,CAACK,OAAO,CAAC;EAC1B;;;uBArGWtB,oBAAoB;IAAA;EAAA;;;aAApBA,oBAAoB;MAAAwB,OAAA,EAApBxB,oBAAoB,CAAAyB,IAAA;MAAAC,UAAA,EAFnB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}