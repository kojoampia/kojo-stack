<div class="model-dashboard">
  <!-- Back to Admin Button -->
  <div class="nav-header">
    <a routerLink="/management" class="btn btn-back">
      ‚Üê Back to Admin Dashboard
    </a>
  </div>

  <!-- Header -->
  <div class="dashboard-header">
    <h1>üë§ {{ modelName }} Management</h1>
    <button 
      class="btn btn-primary" 
      (click)="createItem()"
      [disabled]="loading">
      Add New {{ modelName }}
    </button>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="alert alert-error">
    {{ error }}
    <button class="close-btn" (click)="error = null">√ó</button>
  </div>

  <!-- Loading Indicator -->
  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    Loading...
  </div>

  <!-- List View -->
  <div *ngIf="currentAction === 'list' && !loading" class="list-view">
    <div *ngIf="items.length === 0" class="empty-state">
      <p>No {{ modelName | lowercase }}s found</p>
      <button class="btn btn-primary" (click)="createItem()">Create First {{ modelName }}</button>
    </div>

    <div class="items-table" *ngIf="items.length > 0">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Title</th>
            <th>Email</th>
            <th>Location</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of items" [class.selected]="selectedItem?.id === item.id">
            <td>{{ item.name }}</td>
            <td>{{ item.title }}</td>
            <td>{{ item.email }}</td>
            <td>{{ item.location }}</td>
            <td class="actions">
              <button class="btn btn-sm btn-info" (click)="editItem(item)">Edit</button>
              <button class="btn btn-sm btn-danger" (click)="deleteItem(item)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Create/Update Form -->
  <div *ngIf="(isCreating || isUpdating) && !loading" class="form-view">
    <div class="form-header">
      <h2>{{ isCreating ? 'Create' : 'Edit' }} {{ modelName }}</h2>
    </div>

    <form class="form">
      <div class="form-group">
        <label for="name">Name</label>
        <input 
          id="name" 
          type="text" 
          class="form-control" 
          [(ngModel)]="formData.name"
          name="name"
          required>
      </div>

      <div class="form-group">
        <label for="title">Title</label>
        <input 
          id="title" 
          type="text" 
          class="form-control" 
          [(ngModel)]="formData.title"
          name="title">
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input 
          id="email" 
          type="email" 
          class="form-control" 
          [(ngModel)]="formData.email"
          name="email"
          required>
      </div>

      <div class="form-group">
        <label for="phone">Phone</label>
        <input 
          id="phone" 
          type="tel" 
          class="form-control" 
          [(ngModel)]="formData.phone"
          name="phone">
      </div>

      <div class="form-group">
        <label for="location">Location</label>
        <input 
          id="location" 
          type="text" 
          class="form-control" 
          [(ngModel)]="formData.location"
          name="location">
      </div>

      <div class="form-group">
        <label for="avatar">Avatar URL</label>
        <input 
          id="avatar" 
          type="url" 
          class="form-control" 
          [(ngModel)]="formData.avatar"
          name="avatar">
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-primary" (click)="saveItem()">Save</button>
        <button type="button" class="btn btn-secondary" (click)="cancelAction()">Cancel</button>
      </div>
    </form>
  </div>

  <!-- Delete Confirmation -->
  <div *ngIf="isDeleting && !loading" class="delete-confirmation">
    <div class="confirmation-dialog">
      <h2>Delete {{ modelName }}</h2>
      <p>Are you sure you want to delete this {{ modelName | lowercase }}?</p>
      <p class="item-info">{{ selectedItem?.name }} ({{ selectedItem?.email }})</p>
      
      <div class="confirmation-actions">
        <button class="btn btn-danger" (click)="confirmDelete()">Delete</button>
        <button class="btn btn-secondary" (click)="cancelAction()">Cancel</button>
      </div>
    </div>
  </div>
</div>
